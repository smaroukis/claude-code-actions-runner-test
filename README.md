# Claude Code GitHub Actions + Netlify Demo

This repository demonstrates how to set up Claude Code to automatically run in GitHub Actions when users comment `/cc` on issues, with automatic deployment to Netlify.

## How It Works

1. **Issue Trigger**: When someone comments `/cc` followed by a request on any GitHub issue
2. **Claude Responds**: GitHub Actions runs Claude Code to process the request
3. **Auto Deploy**: Changes are automatically deployed to Netlify for live preview

## Setup Instructions

### 1. GitHub Repository Setup

1. **Fork or clone this repository**
2. **Add Anthropic API Key as a secret**:
   - Go to your repository → Settings → Secrets and variables → Actions
   - Click "New repository secret"
   - Name: `ANTHROPIC_API_KEY`
   - Value: Your Anthropic API key from [console.anthropic.com](https://console.anthropic.com)

3. **Enable GitHub Actions**:
   - Ensure Actions are enabled in your repository settings
   - The workflow file `.github/workflows/claude-code.yml` will automatically trigger on issue comments

### 2. Netlify Deployment Setup

1. **Connect to Netlify**:
   - Go to [netlify.com](https://netlify.com) and sign in
   - Click "Add new site" → "Import an existing project"
   - Connect your GitHub account and select this repository

2. **Configure build settings**:
   - Build command: (leave empty - static files only)
   - Publish directory: `/` (root directory)
   - Click "Deploy site"

3. **Optional: Custom domain**:
   - In Netlify dashboard → Site settings → Domain management
   - Add your custom domain

### 3. Usage

1. **Create an issue** in your GitHub repository
2. **Comment with `/cc`** followed by your request, for example:
   ```
   /cc Please create a simple calculator function in JavaScript
   ```
3. **Claude will respond** by creating a new branch with the requested changes
4. **Changes auto-deploy** to your Netlify site for immediate preview

## Example Requests

Try commenting these on issues:

- `/cc Create a simple todo list app`
- `/cc Add a contact form to the website`
- `/cc Generate a responsive navigation bar`
- `/cc Create a dark mode toggle`

## Configuration Options

You can customize the GitHub Action behavior in `.github/workflows/claude-code.yml`:

```yaml
- uses: anthropics/claude-code-action@beta
  with:
    anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
    trigger_phrase: '/cc '              # Change trigger phrase
    branch_prefix: 'claude-'            # Customize branch naming
    max_turns: 4                        # Limit conversation length
    allowed_tools: "Read,Bash(git *:*)" # Restrict tool usage
```

## File Structure

```
├── .github/workflows/
│   └── claude-code.yml     # GitHub Actions workflow
├── index.html              # Demo webpage
├── generated.js            # Generated by Claude (initially empty)
└── README.md               # This file
```

## Security Notes

- The action runs with limited permissions (`contents: write, pull-requests: write`)
- Claude operates in a sandboxed environment
- All changes are made in separate branches for review
- Consider restricting tool usage for additional security

## Troubleshooting

**Claude doesn't respond to comments:**
- Check that your `ANTHROPIC_API_KEY` secret is set correctly
- Ensure the comment starts with `/cc ` (with space)
- Verify GitHub Actions are enabled

**Netlify deployment fails:**
- Check build logs in Netlify dashboard
- Ensure repository is connected and accessible
- Verify file permissions and structure

## Support

For Claude Code issues: [github.com/anthropics/claude-code/issues](https://github.com/anthropics/claude-code/issues)